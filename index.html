<!DOCTYPE html>
<html lang="en">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="model/Students.js"></script>
</head>
<body>

<!--START NAVBAR-->
<nav class="navbar navbar-expand-lg " style="background-color:  rgba(109,245,220,0.93)">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Home</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/form-login/register.html">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Login</a>
                </li>
            </ul>
            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </div>
</nav>
<!--END NAVBAR-->

<div class="container" style="text-align: center">
    <div class="row">
        <div class="col-12">
            <div class="input-group mb-3">
                <input id="name" type="text" class="form-control" placeholder="Name Student ..."
                       aria-label="Recipient's username" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <span class="input-group-text">Name</span>
                </div>
            </div>
            <div class="input-group mb-3">
                <input id="address" type="text" class="form-control" placeholder="Address ..."
                       aria-label="Recipient's username" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <span class="input-group-text">Address</span>
                </div>
            </div>
            <div class="input-group mb-3">
                <input id="age" type="text" class="form-control" placeholder="Age ..." aria-label="Recipient's username"
                       aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <span class="input-group-text">Age</span>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-primary" onclick="createStudent()">Create Student</button>
    <table class="table">
        <tr class="table-primary">
            <th>STT</th>
            <th>NAME</th>
            <th>ADDRESS</th>
            <th>AGE</th>
            <th>EDIT</th>
        </tr>
        <tbody id="drawTable">

        </tbody>
    </table>
</div>
<!-- Footer -->
<footer class="text-center text-lg-start" style="background-color: rgba(109,245,220,0.93)">
    <!-- Section: Social media -->
    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
        <!-- Left -->
        <div class="me-5 d-none d-lg-block">
            <span>Get connected with us on social networks:</span>
        </div>
        <!-- Left -->

        <!-- Right -->
        <div>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-google"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-github"></i>
            </a>
        </div>
        <!-- Right -->
    </section>
    <!-- Section: Social media -->

    <!-- Section: Links  -->
    <section class="">
        <div class="container text-center text-md-start mt-5">
            <!-- Grid row -->
            <div class="row mt-3">
                <!-- Grid column -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <!-- Content -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        <i class="fas fa-gem me-3"></i>Company name
                    </h6>
                    <p>
                        Here you can use rows and columns to organize your footer content. Lorem ipsum
                        dolor sit amet, consectetur adipisicing elit.
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Products
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Angular</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">React</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Vue</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Laravel</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Useful links
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Pricing</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Settings</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Orders</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Help</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                    <p><i class="fas fa-home me-3"></i> New York, NY 10012, US</p>
                    <p>
                        <i class="fas fa-envelope me-3"></i>
                        info@example.com
                    </p>
                    <p><i class="fas fa-phone me-3"></i> + 01 234 567 88</p>
                    <p><i class="fas fa-print me-3"></i> + 01 234 567 89</p>
                </div>
                <!-- Grid column -->
            </div>
            <!-- Grid row -->
        </div>
    </section>
    <!-- Section: Links  -->

    <!-- Copyright -->
    <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
        © 2022 Copyright:
        <a class="text-reset fw-bold" href="https://mdbootstrap.com/">MDBootstrap.com</a>
    </div>
    <!-- Copyright -->
</footer>
<!-- Footer -->
<script>
    let student1 = new Students(1, 'Mai', 'Hà Nội', 20);
    let student2 = new Students(2, 'Hai', 'Thanh Hóa', 25)
    let studentList = [];
    studentList.push(student1, student2);
    console.log(studentList)
    let idUpdate;

    function showListStudent() {
        let drawTable = '';
        let classColor = '';
        for (let i = 0; i < studentList.length; i++) {
            if (i % 2 == 0) {
                classColor = 'table-danger'
            } else {
                classColor = 'table-success'
            }
            drawTable += `<tr class="${classColor}">
                        <td>${studentList[i].id}</td>
                        <td>${studentList[i].name}</td>
                        <td>${studentList[i].address}</td>
                        <td>${studentList[i].age}</td>
                        <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="${studentList[i].id}">Edit</button></td>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!--                <form>-->
                <div class="form-group">
                    <label class="col-form-label">Name:</label>
                    <input type="text" class="form-control" id="edit_name">
                </div>
                <div class="form-group">
                    <label  class="col-form-label">Address:</label>
                    <input type="text" class="form-control" id="edit_address">
                </div>
                <div class="form-group">
                    <label  class="col-form-label">Age:</label>
                    <input type="text" class="form-control" id="edit_age">
                </div>
                <!--                </form>-->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger"  onclick="updateStudent()" data-dismiss="modal">Edit</button>

            </div>
        </div>
    </div>
</div>
                         `
        }
        document.getElementById('drawTable').innerHTML = drawTable;
        $('#exampleModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever') // Extract info from data-* attributes
            idUpdate = recipient;
            console.log('recipient --- > ', recipient)
            // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
            // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
            var modal = $(this)
            modal.find('.modal-title').text('Update Student ' + recipient)
            // modal.find('.modal-body input').val(recipient)
            // modal.find('.modal-footer button ').onclick = updateStudent(recipient);
        })
    }

    showListStudent()

    function createStudent() {
        let id = studentList[studentList.length - 1].getId() + 1;
        console.log('id ', id)
        let name = document.getElementById('name').value;
        let address = document.getElementById('address').value;
        let age = document.getElementById('age').value;
        let student = new Students(id, name, address, age);
        studentList.push(student);
        showListStudent();
    }

    function updateStudent() {

        console.log('idUpdate ---> ', idUpdate)
        let edit_name = document.getElementById('edit_name').value;
        let edit_address = document.getElementById('edit_address').value;
        let edit_age = document.getElementById('edit_age').value;
        for (let i = 0; i < studentList.length; i++) {
            if (studentList[i].getId() == idUpdate) {
                studentList[i].setName(edit_name);
                studentList[i].setAddress(edit_address);
                studentList[i].setAge(edit_age);
            }
        }
        showListStudent()
    }

</script>
</body>
</html>